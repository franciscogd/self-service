<?xml version="1.0" encoding="UTF-8"?>

<features name="talend-ipaas-common-2.0.1" xmlns="http://karaf.apache.org/xmlns/features/v1.0.0">

    <feature name='tipaas-common' version='2.0.1'>
        <feature>tipaas-flow-model</feature>
        <bundle dependency="true">mvn:com.google.code.gson/gson/2.6.2</bundle>
        <bundle>mvn:org.talend.ipaas.rt/json-rs-provider/2.0.1</bundle>
        <bundle>mvn:org.talend.ipaas.rt/tipaas-rt-common/2.0.1</bundle>
    </feature>

    <feature name='tpsvc-crypto-common' version='2.0.1'>
        <bundle>wrap:mvn:org.talend.crypto/crypto-common/1-20170623214203-gde0dabd</bundle>
    </feature>

    <feature name='tipaas-keypair-manager' version='2.0.1'>
        <configfile finalname="/etc/org.talend.ipaas.rt.keypair.manager.cfg">mvn:org.talend.ipaas.rt/keypair-manager/2.0.1/cfg/org.talend.ipaas.rt.keypair.manager</configfile>
        <config name="org.talend.ipaas.rt.keypair.manager">keypair.save=true
keypair.file=${karaf.etc}/keystores/ipaas.jks
keypair.file.password=password
keypair.alias=ipaas
keypair.password=secret
</config>
        <feature>tpsvc-crypto-common</feature>
        <bundle dependency='true'>mvn:org.bouncycastle/bcprov-jdk15on/1.55</bundle>
        <bundle dependency='true'>mvn:org.bouncycastle/bcpkix-jdk15on/1.55</bundle>
        <bundle>mvn:org.talend.ipaas.rt/keypair-manager/2.0.1</bundle>
    </feature>

    <feature name='tipaas-amqsource' version='2.0.1'>
        <configfile finalname="/etc/org.talend.ipaas.rt.eventsource.amq.cfg">mvn:org.talend.ipaas.rt/tipaas-rt-amqsource/2.0.1/cfg/org.talend.ipaas.rt.eventsource.amq</configfile>
        <config name="org.talend.ipaas.rt.eventsource.amq">activemq.broker.url=failover:(tcp://localhost:61616?wireFormat.host=localhost)?jms.prefetchPolicy.queuePrefetch=100
activemq.broker.username=undefined
activemq.broker.password=undefined

log.messages=false
</config>
        <feature>tipaas-common</feature>
        <feature version='5.14.5'>activemq-client</feature>
        <bundle>mvn:org.talend.ipaas.rt/tipaas-rt-amqsource/2.0.1</bundle>
    </feature>

    <feature name='tipaas-flow-model' version='2.0.1'>
        <feature version='2.8.7'>jackson-databind</feature>
        <bundle>mvn:org.talend.ipaas/flow-model/2.0.1</bundle>
    </feature>

    <feature name='tipaas-flow-manager-common' version='2.0.1'>
        <feature>tipaas-common</feature>
        <feature version='3.1.11'>cxf-jaxrs</feature>
        <bundle>mvn:org.talend.ipaas.rt.fm/flow-manager-common/2.0.1</bundle>
    </feature>

    <feature name='tipaas-flow-manager-client' version='2.0.1'>
        <configfile finalname="/etc/org.talend.ipaas.rt.flowmanager.client.cfg">mvn:org.talend.ipaas.rt.fm/flow-manager-client/2.0.1/cfg/org.talend.ipaas.rt.flowmanager.client</configfile>
        <config name="org.talend.ipaas.rt.flowmanager.client">flow.manager.service.url=http://localhost:8181/services/flow-manager-service
flow.manager.service.username=tadmin
flow.manager.service.password=tadmin

flow.manager.response.queue=ipaas.flowmanager.response.queue
</config>
        <feature>tipaas-flow-manager-common</feature>
        <bundle>mvn:org.talend.ipaas.rt.fm/flow-manager-client/2.0.1</bundle>
    </feature>

    <feature name='tipaas-dispatcher-common' version='2.0.1'>
        <feature>tipaas-common</feature>
        <bundle>mvn:org.talend.ipaas.rt.dispatcher/dispatcher-common/2.0.1</bundle>
    </feature>

    <feature name='tipaas-dispatcher-client' version='2.0.1'>
        <configfile finalname="/etc/org.talend.ipaas.rt.dispatcher.client.cfg">mvn:org.talend.ipaas.rt.dispatcher/dispatcher-client/2.0.1/cfg/org.talend.ipaas.rt.dispatcher.client</configfile>
        <config name="org.talend.ipaas.rt.dispatcher.client">dispatcher.input.queue=ipaas.dispatcher.input.queue

dispatcher.response.queue=ipaas.dispatcher.response.queue

</config>
        <feature>tipaas-dispatcher-common</feature>
        <feature>tipaas-amqsource</feature>
        <bundle>mvn:org.talend.ipaas.rt.dispatcher/dispatcher-client/2.0.1</bundle>
    </feature>

    <feature name='tipaas-artifact-manager-common' version='2.0.1'>
        <feature version='3.1.11'>cxf-jaxrs</feature>
        <feature>tipaas-common</feature>
        <feature>tipaas-flow-model</feature>
        <bundle>mvn:org.talend.ipaas.rt.am/artifact-manager-common/2.0.1</bundle>
    </feature>

    <feature name='tipaas-artifact-manager-client' version='2.0.1'>
        <configfile finalname="/etc/org.talend.ipaas.rt.am.client.cfg">mvn:org.talend.ipaas.rt.am/artifact-manager-client/2.0.1/cfg/org.talend.ipaas.rt.am.client</configfile>
        <config name="org.talend.ipaas.rt.am.client">address = http://localhost:8181/services/artifact-manager-service/
username = tadmin
password = tadmin
</config>
        <feature>tipaas-artifact-manager-common</feature>
        <feature version='2.8.7'>jackson-jaxrs-json-provider</feature>
        <bundle>mvn:org.talend.ipaas.rt.am/artifact-manager-client/2.0.1</bundle>
    </feature>

    <feature name='tipaas-data-transfer-service-common' version='2.0.1'>
        <feature version='3.1.11'>cxf-jaxrs</feature>
        <feature>tipaas-common</feature>
        <bundle>mvn:org.talend.ipaas.rt.dts/data-transfer-service-common/2.0.1</bundle>
    </feature>

    <feature name='tipaas-data-transfer-service-client' version='2.0.1'>
        <configfile finalname="/etc/org.talend.ipaas.rt.dts.client.cfg">mvn:org.talend.ipaas.rt.dts/data-transfer-service-client/2.0.1/cfg/org.talend.ipaas.rt.dts.client</configfile>
        <config name="org.talend.ipaas.rt.dts.client">dts.service.url=http://localhost:8181/services/data-transfer-service
</config>
        <feature>tipaas-data-transfer-service-common</feature>
        <feature version='2.8.7'>jackson-jaxrs-json-provider</feature>
        <bundle>mvn:org.talend.ipaas.rt.dts/data-transfer-service-client/2.0.1</bundle>
    </feature>

    <feature name='tipaas-container-management-service-common' version='2.0.1'>
        <feature version='3.1.11'>cxf-jaxrs</feature>
        <feature>tipaas-common</feature>
        <bundle>mvn:org.talend.ipaas.rt.cms/container-management-service-common/2.0.1</bundle>
    </feature>

    <feature name='tipaas-container-management-service-client' version='2.0.1'>
        <configfile finalname="/etc/org.talend.ipaas.rt.cms.client.cfg">mvn:org.talend.ipaas.rt.cms/container-management-service-client/2.0.1/cfg/org.talend.ipaas.rt.cms.client</configfile>
        <config name="org.talend.ipaas.rt.cms.client">container.management.service.url=http://localhost:8181/services/container-management-service
container.management.service.username=tadmin
container.management.service.password=tadmin
</config>
        <feature version='3.1.11'>cxf-jaxrs</feature>
        <feature>tipaas-common</feature>
        <feature>tipaas-container-management-service-common</feature>
        <bundle>mvn:org.talend.ipaas.rt.cms/container-management-service-client/2.0.1</bundle>
    </feature>

    <feature name='tipaas-pairing-service-common' version='2.0.1'>
        <feature>tipaas-container-management-service-common</feature>
    </feature>

    <feature name='tipaas-pairing-service-client' version='2.0.1'>
        <configfile finalname="/etc/org.talend.ipaas.rt.pairing.client.cfg">mvn:org.talend.ipaas.rt.pairing/pairing-service-client/2.0.1/cfg/org.talend.ipaas.rt.pairing.client</configfile>
        <config name="org.talend.ipaas.rt.pairing.client">pairing.service.url=https://pair.integrationcloud.talend.com
</config>
        <feature version='3.1.11'>cxf-jaxrs</feature>
        <feature>tipaas-common</feature>
        <feature>tipaas-pairing-service-common</feature>
        <bundle>mvn:org.talend.ipaas.rt.pairing/pairing-service-client/2.0.1</bundle>
    </feature>

    <feature name='jackson-databind' version='2.8.7'>
        <bundle dependency='true'>mvn:com.fasterxml.jackson.core/jackson-core/2.8.7</bundle>
        <bundle dependency='true'>mvn:com.fasterxml.jackson.core/jackson-annotations/2.8.7</bundle>
        <bundle dependency='true'>mvn:com.fasterxml.jackson.core/jackson-databind/2.8.7</bundle>
        <!--bundle dependency='true'>mvn:com.fasterxml.jackson.core/jackson-module-jaxb-annotations/2.8.7</bundle-->
    </feature>

    <feature name='jackson-jaxrs-json-provider' version='2.8.7'>
        <feature version='2.8.7'>jackson-databind</feature>
        <bundle dependency='true'>mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-base/2.8.7</bundle>
        <bundle dependency='true'>mvn:com.fasterxml.jackson.jaxrs/jackson-jaxrs-json-provider/2.8.7</bundle>
    </feature>

    <feature name='tipaas-amq-dependencies' version='2.0.1'>
        <bundle dependency='true'>mvn:org.apache.httpcomponents/httpcore-osgi/4.4.4</bundle>
        <bundle dependency='true'>mvn:org.apache.httpcomponents/httpclient-osgi/4.5.2</bundle>
        <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xstream/1.4.8_1</bundle>
        <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xmlpull/1.1.3.4a_1</bundle>
        <!-- bundle dependency="true">mvn:org.apache.activemq/activemq-http/5.14.5</bundle -->
        <bundle dependency="true">mvn:org.apache.servicemix.bundles/org.apache.servicemix.bundles.xpp3/1.1.4c_5</bundle>
    </feature>

    <feature name='tipaas-custom-resources-common' version='2.0.1'>
        <feature version='3.1.11'>cxf-jaxrs</feature>
        <bundle>mvn:org.talend.ipaas.rt.cr/custom-resources-common/2.0.1</bundle>
    </feature>

    <feature name='tipaas-logs-transfer-service-common' version='2.0.1'>
        <feature version='3.1.11'>cxf-jaxrs</feature>
        <feature>tipaas-common</feature>
        <bundle>mvn:org.talend.ipaas.rt.lts/logs-transfer-service-common/2.0.1</bundle>
    </feature>

    <feature name='tipaas-logs-transfer-service-client' version='2.0.1'>
        <configfile finalname="/etc/org.talend.ipaas.rt.lts.client.cfg">mvn:org.talend.ipaas.rt.lts/logs-transfer-service-client/2.0.1/cfg/org.talend.ipaas.rt.lts.client</configfile>
        <config name="org.talend.ipaas.rt.lts.client">log.transfer.admin.url=http://localhost:8181/services/logs-transfer-service
log.transfer.admin.username=tadmin
log.transfer.admin.password=tadmin

log.transfer.upload.url=http://localhost:8181/services/logs-transfer-service-runtime
</config>
        <feature>tipaas-logs-transfer-service-common</feature>
        <feature version='2.8.7'>jackson-jaxrs-json-provider</feature>
        <bundle>mvn:org.talend.ipaas.rt.lts/logs-transfer-service-client/2.0.1</bundle>
    </feature>

</features>
